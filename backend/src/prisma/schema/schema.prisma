generator client {
  provider   = "prisma-client-js"
  output     = "../../generate/prisma"
  engineType = "client"
}

datasource db {
  provider = "mysql"
}

model User {
  id          String        @id @default(uuid()) @db.Char(36)
  firstName   String
  lastName    String
  email       String
  password    String
  createAt    DateTime      @default(now()) @updatedAt
  phoneNumber String?
  nationIso2  String
  emailVerify Boolean       @default(false)
  verifyToken String?       @unique
  managerId   Int?
  application Application[]
  manager     Admin?        @relation(fields: [managerId], references: [id])
  nation      Country       @relation(fields: [nationIso2], references: [iso2])

  @@index([managerId])
  @@index([nationIso2], map: "User_nationIso2_fkey")
}

model Admin {
  id            Int             @id @default(autoincrement())
  email         String
  name          String
  password      String
  role          Role            @default(ADMIN)
  Notifications Notifications[]
  manage        User[]
}

enum Role {
  ADMIN
  SUPER_ADMIN
}
