datasource db {
  provider = "mysql"
}

generator client {
  provider   = "prisma-client"
  engineType = "client"
  output     = "../../../generate/prisma"
}

model User {
  id          String        @id @default(uuid())
  firstName   String
  lastName    String
  email       String        @unique
  password    String
  createAt    DateTime      @updatedAt()
  phoneNumber String?
  nationIso2  String
  nation      Country       @relation(fields: [nationIso2], references: [iso2])
  emailVerify Boolean       @default(false)
  verifyToken String?       @unique
  application Application[]

  managerId        Int?
  manager          Admin?             @relation(fields: [managerId], references: [id])
  NotificationUser NotificationUser[]

  @@index([managerId])
  @@index([id])
}

model Admin {
  id            Int             @id @default(autoincrement())
  name          String
  email         String          @unique
  password      String
  manage        User[]
  role          Role            @default(ADMIN)
  Notifications Notifications[]
}

enum Role {
  ADMIN
  SUPER_ADMIN
}
